---
title: Workspace
description: Learn how to use the Workspace class to interact with your content.
navigation:
  icon: i-lucide-layout-dashboard
github: https://github.com/shorwood/unbook/blob/main/packages/core/src/workspace.ts
---

## Create a workspace

The `Workspace` class is your main entry point for interacting with content through Unbook. It wraps an adapter and provides high-level methods for managing pages, databases, data sources, and users.

```ts [src/index.ts]
import { Workspace } from '@unbook/core'
import { Notion } from '@unbook/notion'

// Create an adapter
const adapter = new Notion({
  token: process.env.NOTION_TOKEN,
})

// Create a workspace instance
const workspace = new Workspace(adapter)
```

Once you have a workspace instance, you can use it to access and manipulate your content.

## Access entities

The workspace provides methods to retrieve existing entities by their ID.

### Get a page

```ts [src/index.ts]
const page = await workspace.getPage('page-id')

console.log(page.title) // 'My Page'
console.log(page.url) // 'https://notion.so/...'
console.log(page.createdAt) // Date { ... }
```

### Get a database

```ts [src/index.ts]
const database = await workspace.getDatabase('database-id')

console.log(database.title) // 'My Database'
console.log(database.description) // 'Database description'
console.log(database.url) // 'https://notion.so/...'
```

### Get a user

```ts [src/index.ts]
const user = await workspace.getUser('user-id')

console.log(user.name) // 'John Doe'
console.log(user.email) // 'john@example.com'
console.log(user.avatarUrl) // 'https://...'
```

### Get the current user

If your adapter supports authentication context, you can retrieve the authenticated user:

```ts [src/index.ts]
const currentUser = await workspace.getCurrentUser()

console.log(currentUser.name) // 'Your Name'
```

## Create resources

The workspace also provides methods to create new pages and databases.

### Create a page

Create a standalone page with a title:

```ts [src/index.ts]
const page = await workspace.createPage('My New Page')

console.log(page.id) // 'new-page-id'
console.log(page.title) // 'My New Page'
```

You can also specify a parent and add child blocks:

```ts [src/index.ts]
import { paragraph, heading1 } from '@unbook/core/shorthands'

const page = await workspace.createPage(
  'Project Notes',
  { parent: existingPage }, // or a database/data source
  [
    heading1('Introduction'),
    paragraph('This is the project overview.'),
  ],
)
```

### Create a database

Create a new database with a schema:

```ts [src/index.ts]
import { title, text, select, date } from '@unbook/core/shorthands'

const database = await workspace.createDatabase('Tasks', {
  parent: parentPage,
  description: 'Track project tasks',
  schema: {
    name: title('Task Name'),
    description: text('Description'),
    status: select('Status', ['To Do', 'In Progress', 'Done']),
    dueDate: date('Due Date'),
  },
})

console.log(database.id) // 'new-database-id'
```

### Ensure a database exists

The `ensureDatabase` method finds or creates a database and synchronizes its schema:

```ts [src/index.ts]
import { title, select, checkbox } from '@unbook/core/shorthands'

const tasks = await workspace.ensureDatabase('Tasks', {
  parent: parentPage,
  schema: {
    name: title('Name'),
    status: select('Status', ['Ongoing', 'Done']),
    completed: checkbox('Completed'),
  },
  conflictStrategy: 'merge', // 'strict' | 'merge' | 'overwrite'
})

// Query the synchronized data source
for await (const task of tasks.query()) {
  console.log(task.name, task.status)
}
```

::tip
The `conflictStrategy` option controls how schema differences are handled:
- **strict**: Throws an error if the remote has fields not in your schema
- **merge**: Keeps remote fields that don't conflict (default)
- **overwrite**: Replaces the remote schema entirely
::

## Search for content

Search across your workspace for pages and data sources:

```ts [src/index.ts]
// Search for all matching content
for await (const result of workspace.search('meeting notes')) {
  console.log(result.id, result.title)
}

// Search only for pages
for await (const page of workspace.search('meeting', { filter: 'page' })) {
  console.log(page.title)
}

// Search only for data sources
for await (const dataSource of workspace.search('tasks', { filter: 'data_source' })) {
  console.log(dataSource.title)
}
```
