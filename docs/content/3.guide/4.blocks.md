---
title: Blocks
description: Learn how to create, update, and manage content blocks in pages.
navigation:
  icon: i-lucide-boxes
---

Blocks are the content elements within pages. They can be text, headings, lists, media, embeds, and more. Blocks can also contain other blocks, forming a tree structure.

## Understand blocks

Every block has:
- An **id** uniquely identifying it
- A **type** defining what kind of content it holds
- **Content** specific to its type (text, URL, etc.)
- Optional **children** for nested content

```ts [block-basics.ts]
const block = await page.getChildren().next()

console.log('ID:', block.value.id)
console.log('Type:', block.value.type)
console.log('Created:', block.value.createdAt)
console.log('Last edited:', block.value.lastEditedAt)
```

## Append blocks to a page

Use `page.append()` to add blocks to a page:

```ts [append-to-page.ts]
import { blocks } from '@unbook/core'

// Append multiple blocks at once
await page.append([
  blocks.heading1('Getting Started'),
  blocks.paragraph('Welcome to the documentation.'),
  blocks.heading2('Prerequisites'),
  blocks.bulletedListItem('Node.js 18+'),
  blocks.bulletedListItem('A Notion account'),
  blocks.bulletedListItem('An API token'),
])
```

### Using shorthand functions

Unbook provides shorthand functions for all block types:

```ts [shorthands.ts]
import {
  paragraph,
  heading1, heading2, heading3,
  bulletedListItem, numberedListItem, toDo,
  quote, callout,
  code, equation,
  divider, tableOfContents,
  image, video, file, pdf,
  bookmark, embed,
  toggle,
} from '@unbook/core'

await page.append([
  heading1('Project Overview'),
  paragraph('This is the main content.'),
  callout('üí°', 'This is an important note.'),
  divider(),
  heading2('Code Example'),
  code('typescript', 'const x = 42;'),
])
```

### Raw block input

You can also use raw block input objects:

```ts [raw-block.ts]
await page.append([
  {
    type: 'paragraph',
    paragraph: {
      rich_text: [
        { type: 'text', text: { content: 'Hello, ' } },
        { type: 'text', text: { content: 'world!' }, annotations: { bold: true } },
      ],
    },
  },
])
```

## Append blocks to a block

Blocks with `has_children` support can contain nested blocks:

```ts [append-to-block.ts]
import { toggle, paragraph, bulletedListItem } from '@unbook/core'

// Create a toggle block
const [toggleBlock] = await page.append([
  toggle('Click to expand'),
])

// Add nested content inside the toggle
await toggleBlock.append([
  paragraph('This content is hidden by default.'),
  bulletedListItem('Item 1'),
  bulletedListItem('Item 2'),
])
```

### Nested content with shorthands

Some shorthands accept children directly:

```ts [nested-shorthands.ts]
import { toggle, paragraph } from '@unbook/core'

// Create toggle with initial children
await page.append([
  {
    ...toggle('FAQ Section'),
    children: [
      paragraph('Question 1: How do I get started?'),
      paragraph('Answer: Follow the quick start guide.'),
    ],
  },
])
```

## Retrieve block content

Access block properties based on type:

```ts [read-block.ts]
for await (const block of page.getChildren()) {
  console.log('Type:', block.type)

  // Access type-specific content
  const content = block.object[block.type]

  switch (block.type) {
    case 'paragraph':
      console.log('Text:', content.rich_text.map(t => t.plain_text).join(''))
      break
    case 'heading_1':
      console.log('Heading:', content.rich_text.map(t => t.plain_text).join(''))
      break
    case 'code':
      console.log('Language:', content.language)
      console.log('Code:', content.rich_text.map(t => t.plain_text).join(''))
      break
    case 'image':
      console.log('Image URL:', content.type === 'external' ? content.external.url : content.file.url)
      break
  }
}
```

## Navigate block relationships

### Get the parent

A block's parent can be a Page, another Block, or a DataSource:

```ts [get-block-parent.ts]
const parent = await block.getParent()

if (parent instanceof Page) {
  console.log('Parent page:', parent.title)
} else if (parent instanceof Block) {
  console.log('Parent block:', parent.type)
} else if (parent instanceof DataSource) {
  console.log('Parent data source:', parent.title)
}
```

### Get children

Iterate over nested blocks:

```ts [get-block-children.ts]
// Check if block has children
if (block.object.has_children) {
  for await (const child of block.getChildren()) {
    console.log('Child:', child.type)
  }
}
```

### Build a block tree

Recursively traverse the block hierarchy:

```ts [block-tree.ts]
async function printBlockTree(block: Block, indent = 0) {
  console.log(' '.repeat(indent) + block.type)

  if (block.object.has_children) {
    for await (const child of block.getChildren()) {
      await printBlockTree(child, indent + 2)
    }
  }
}

for await (const block of page.getChildren()) {
  await printBlockTree(block)
}
```

### Get creator and last editor

```ts [block-users.ts]
const creator = await block.getCreator()
console.log('Created by:', creator.name)

const editor = await block.getLastEditor()
console.log('Last edited by:', editor.name)
```

## Render blocks to text

Convert blocks to Markdown representation:

```ts [render-block.ts]
for await (const block of page.getChildren()) {
  const markdown = await block.render()
  console.log(markdown)
}
```

This renders the block and all its children recursively.

## Update block content

Use `block.update()` to modify a block:

```ts [update-block.ts]
// Update paragraph text
const updated = await block.update({
  paragraph: {
    rich_text: [
      { type: 'text', text: { content: 'Updated content' } },
    ],
  },
})

// Update a to-do item
const checkedToDo = await todoBlock.update({
  to_do: {
    rich_text: [{ type: 'text', text: { content: 'Completed task' } }],
    checked: true,
  },
})
```

## Delete blocks

Remove a block and all its children:

```ts [delete-block.ts]
await block.delete()
console.log('Block deleted')
```

::warning
Deleting a block also deletes all nested children. This cannot be undone.
::

## Work with specific block types

### Text blocks

```ts [text-blocks.ts]
import { paragraph, heading1, heading2, heading3, quote, callout } from '@unbook/core'

await page.append([
  heading1('Main Title'),
  heading2('Subtitle'),
  heading3('Section'),
  paragraph('Regular paragraph text.'),
  quote('A wise quote from someone.'),
  callout('‚ö†Ô∏è', 'Warning: This is important!'),
])
```

### List blocks

```ts [list-blocks.ts]
import { bulletedListItem, numberedListItem, toDo, toggle } from '@unbook/core'

await page.append([
  // Bulleted list
  bulletedListItem('First item'),
  bulletedListItem('Second item'),

  // Numbered list
  numberedListItem('Step one'),
  numberedListItem('Step two'),

  // To-do items
  toDo('Buy groceries', false),
  toDo('Call mom', true), // checked

  // Toggle (collapsible)
  toggle('Click to reveal'),
])
```

### Media blocks

```ts [media-blocks.ts]
import { image, video, file, pdf } from '@unbook/core'

await page.append([
  image('https://example.com/photo.jpg', 'A beautiful sunset'),
  video('https://example.com/demo.mp4'),
  file('https://example.com/document.docx', 'Project spec'),
  pdf('https://example.com/report.pdf'),
])
```

### Embed blocks

```ts [embed-blocks.ts]
import { bookmark, embed, code, equation } from '@unbook/core'

await page.append([
  bookmark('https://github.com/unbook/unbook', 'Unbook on GitHub'),
  embed('https://www.youtube.com/watch?v=dQw4w9WgXcQ'),
  code('typescript', `
function greet(name: string) {
  return \`Hello, \${name}!\`
}
  `.trim()),
  equation('E = mc^2'),
])
```

### Layout blocks

```ts [layout-blocks.ts]
import { divider, tableOfContents, columnList, column, paragraph } from '@unbook/core'

await page.append([
  divider(),
  tableOfContents(),
])

// Columns require special handling
const [columns] = await page.append([
  columnList(),
])

// Add columns inside the column list
await columns.append([
  {
    ...column(),
    children: [paragraph('Left column content')],
  },
  {
    ...column(),
    children: [paragraph('Right column content')],
  },
])
```
